'-- SOUND SUB SYSTEM --


'-- PLAY SOUND EFFECTS VERIFYING IF THERE IS BACKGROUND MUSIC --

SUB PLAY_SFX(SFX$,P)

 LOCAL SND$

 IF SFX_SND=0 THEN EXIT SUB

 SND$="./SOUNDS/"+SFX$+".WAV"

 IF P>=PR_SND THEN
  PR_SND=P
  IF MM.INFO(SOUND)="MODFILE" THEN
   PLAY EFFECT SND$,END_SFX
  ELSE
   PLAY STOP: PLAY WAV SND$,END_SFX
  ENDIF
 ENDIF

END SUB


'-- REMOVE SOUND FX PRIORITY AFTER PLAYED --

SUB END_SFX

 PR_SND=-99

END SUB



